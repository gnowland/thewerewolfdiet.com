var delay_scale=.7,timer=null,raf=window.requestAnimationFrame?function(e){window.requestAnimationFrame(e)}:function(e){e()},animate=function(e,t,a){for(var n=0,i=0;i<t.length-1;++i)t[i].delay;var l=function(){var o=n++%t.length,r=t[o].delay*delay_scale,d=t[o].blit,m=a.getContext("2d");for(i=0;i<d.length;++i){var c=d[i],s=c[0],u=c[1],f=c[2],g=c[3],y=c[4],h=c[5];m.drawImage(e,s,u,f,g,y,h,f,g)}timer=window.setTimeout(raf,r,l)};timer&&window.clearTimeout(timer),l()},animate_fallback=function(e,t,a){for(var n=0,i=0;i<t.length-1;++i)t[i].delay;var l=function(){if(n%t.length==0)for(;a.hasChildNodes();)a.removeChild(a.lastChild);var o=n++%t.length,r=t[o].delay*delay_scale,d=t[o].blit;for(i=0;i<d.length;++i){var m=d[i],c=m[0],s=m[1],u=m[2],f=m[3],g=m[4],y=m[5],h=document.createElement("div");h.style.position="absolute",h.style.left=g+"px",h.style.top=y+"px",h.style.width=u+"px",h.style.height=f+"px",h.style.backgroundImage="url('"+e.src+"')",h.style.backgroundPosition="-"+c+"px -"+s+"px",a.appendChild(h)}timer=window.setTimeout(raf,r,l)};timer&&window.clearTimeout(timer),l()};function set_animation(e,t,a,n){var i=new Image;i.onload=function(){var e=document.getElementById(a);e&&e.getContext?animate(i,t,e):animate_fallback(i,t,document.getElementById(n))},i.src=e}